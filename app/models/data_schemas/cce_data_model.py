#  Copyright 2023 ExxonMobil Technology and Engineering Company
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# generated by datamodel-codegen:
#   filename:  cce_data_schema.json
#   timestamp: 2023-04-05T14:38:19+00:00

from __future__ import annotations

from enum import Enum
from typing import List, Optional

from pydantic import BaseModel, Field, constr


class TestTemperature(BaseModel):
    Value: Optional[float] = None
    UnitOfMeasure: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-UnitOfMeasure:[\w\-\.\:\%]+:[0-9]*$",
        )
    ] = None


class SaturationPressure(BaseModel):
    Value: Optional[float] = None
    UnitOfMeasure: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-UnitOfMeasure:[\w\-\.\:\%]+:[0-9]*$",
        )
    ] = None
    Type: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-PressureMeasurementType:[\w\-\.\:\%]+:[0-9]*$",
        )
    ] = None


class ReservoirPressure(TestTemperature):
    pass


class StepPressure(SaturationPressure):
    pass


class LiquidFraction(TestTemperature):
    pass


class OilDensity(TestTemperature):
    pass


class OilCompressibility(TestTemperature):
    pass


class OilViscosity(TestTemperature):
    pass


class TotalVolume(TestTemperature):
    pass


class SaturationPressureLiquidVolume(TestTemperature):
    pass


class IndicatedPressureLiquidVolume(TestTemperature):
    pass


class RelativeVolumeRatio(TestTemperature):
    pass


class GasDensity(TestTemperature):
    pass


class GasCompressibility(TestTemperature):
    pass


class GasViscosity(TestTemperature):
    pass


class FluidConditionType(Enum):
    Current_Reservoir_Conditions = "Current Reservoir Conditions"
    Initial_Reservoir_Conditions = "Initial Reservoir Conditions"
    Initial_Saturation_Conditions = "Initial Saturation Conditions"
    Stock_Tank_Conditions = "Stock Tank Conditions"


class PhasesPresentType(Enum):
    Oil = "Oil"
    Solid = "Solid"
    Gas = "Gas"
    Oil_and_Gas = "Oil and Gas"


class ConstantCompositionExpansionTestStep(BaseModel):
    StepNumber: Optional[str] = Field(
        None,
        description="Internal step number which identifies the sequence of step in CCE measurements",
        title="Step Number",
    )
    StepPressure: Optional[StepPressure] = Field(
        None, description="The pressure applied during the step.", title="Step Pressure",
    )
    LiquidFraction: Optional[LiquidFraction] = Field(
        None,
        description="The fraction of liquid by volume for this test step. This is the volume of liquid divided...",
        title="Liquid Fraction",
    )
    OilDensity: Optional[OilDensity] = Field(
        None,
        description="The density of the oil for this test step.",
        title="Oil Density",
    )
    OilCompressibility: Optional[OilCompressibility] = Field(
        None,
        description="The compressibility of the oil for this test step.",
        title="Oil Compressibility",
    )
    Oil_Viscosity: Optional[OilViscosity] = Field(
        None,
        alias="Oil Viscosity",
        description="The dynamic viscosity of the oil for this test step.",
    )
    TotalVolume: Optional[TotalVolume] = Field(
        None, description="The total volume for this test step.", title="Total Volume",
    )
    SaturationPressureLiquidVolume: Optional[SaturationPressureLiquidVolume] = None
    IndicatedPressureLiquidVolume: Optional[IndicatedPressureLiquidVolume] = None
    RelativeVolumeRatio: Optional[RelativeVolumeRatio] = Field(
        None,
        description="The measured relative volume ratio = measured volume/volume at Psat.",
    )
    GasDensity: Optional[GasDensity] = Field(
        None, description="The density of the gas for this test step.",
    )
    GasZFactor: Optional[float] = Field(
        None,
        description="The Z factor of the gas for this test step.",
        title="GasZFactor",
    )
    GasCompressibility: Optional[GasCompressibility] = Field(
        None,
        description="The compressibility of the gas for this test step.",
        title="Gas Compressibility",
    )
    GasViscosity: Optional[GasViscosity] = Field(
        None,
        description="The viscosity of the gas phase at this test step",
        title="Gas Viscosity",
    )
    YFunction: Optional[float] = Field(
        None,
        description="The Y function at this test step. See  Standing, M.B.: Volumetric And Phase Behavior Of Oil Field Hydrocarbon Systems, Eighth Edition, SPE Richardson, Texas (1977).",
        title="Y Function",
    )
    FluidConditionType: Optional[FluidConditionType] = Field(
        None,
        description="The fluid condition at this test step.",
        title="Fluid Condition Type",
    )
    PhasesPresentType: Optional[PhasesPresentType] = None


class Model(BaseModel):
    ConstantCompositionExpansionTestID: constr(
        regex=r"^[\w\-\.]+:work-product-component\-\-ConstantCompositionExpansionTest:[\w\-\.\:\%]+:[0-9]*$",
    ) = Field(..., title="Constant Composition Expansion Test ID")
    TestNumber: Optional[str] = Field(
        None,
        description="A number for this test for purposes of e.g., tracking lab sequence.",
        title="Test Number",
    )
    FluidSampleID: Optional[
        constr(regex=r"^[\w\-\.]+:master-data\-\-FluidSample:[\w\-\.\:\%]+:[0-9]*$")
    ] = Field(
        None,
        description="Unique identifier of the Fluid Sample which constant composition expansion analysis is done on",
        title="Fluid Sample ID",
    )
    TestTemperature: Optional[TestTemperature] = Field(
        None, description="The temperature of this test.", title="Test Temperature",
    )
    SaturationPressure: Optional[SaturationPressure] = Field(
        None,
        description="The saturation (or bubble point) pressure measured in this test.",
        title="Saturation Pressure",
    )
    ReservoirPressure: Optional[ReservoirPressure] = Field(
        None, title="Reservoir Pressure",
    )
    ConstantCompositionExpansionTestSteps: Optional[
        List[ConstantCompositionExpansionTestStep]
    ] = None
