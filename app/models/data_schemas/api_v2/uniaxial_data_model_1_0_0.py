#  Copyright 2025 ExxonMobil Technology and Engineering Company
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# generated by datamodel-codegen:
#   filename:  uniaxial.1.0.0.json
#   timestamp: 2025-02-12T17:00:43+00:00

from __future__ import annotations

from app.models.config import RafsBaseModel

from datetime import date
from typing import List, Optional, Union

from pydantic import Extra, Field, constr


class Meta(RafsBaseModel):
    kind: str = Field(
        "Unit",
        const=True,
        description="The kind of reference, 'Unit' for FrameOfReferenceUOM.",
        title="UOM Reference Kind",
    )
    name: Optional[str] = Field(
        None,
        description="The unit symbol or name of the unit.",
        example="ft[US]",
        title="UOM Unit Symbol",
    )
    persistableReference: Optional[str] = Field(
        None,
        description="The self-contained, persistable reference string uniquely identifying the Unit.",
        example='{"abcd":{"a":0.0,"b":1200.0,"c":3937.0,"d":0.0},"symbol":"ft[US]","baseMeasurement":{"ancestry":"L","type":"UM"},"type":"UAD"}',
        title="UOM Persistable Reference",
    )
    unitOfMeasureID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-UnitOfMeasure:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="SRN to unit of measure reference.",
        example="namespace:reference-data--UnitOfMeasure:ftUS:",
    )
    propertyNames: Optional[List[str]] = Field(
        None,
        description='The list of property names, to which this meta data item provides Unit context to. A full path like "StructureA.PropertyB" is required to define a unique context; "data" is omitted since frame-of reference normalization only applies to the data block.',
        example=["HorizontalDeflection.EastWest", "HorizontalDeflection.NorthSouth"],
        title="UOM Property Names",
    )


class Meta1(RafsBaseModel):
    kind: str = Field(
        "CRS",
        const=True,
        description="The kind of reference, constant 'CRS' for FrameOfReferenceCRS.",
        title="CRS Reference Kind",
    )
    name: Optional[str] = Field(
        None,
        description="The name of the CRS.",
        example="WGS 84 / UTM zone 15N",
        title="CRS Name",
    )
    persistableReference: str = Field(
        ...,
        description="The self-contained, persistable reference string uniquely identifying the CRS.",
        example='{"authCode":{"auth":"EPSG","code":"32615"},"name":"WGS_1984_UTM_Zone_15N","type":"LBC","ver":"PE_10_9_1","wkt":"PROJCS[\\"WGS_1984_UTM_Zone_15N\\",GEOGCS[\\"GCS_WGS_1984\\",DATUM[\\"D_WGS_1984\\",SPHEROID[\\"WGS_1984\\",6378137.0,298.257223563]],PRIMEM[\\"Greenwich\\",0.0],UNIT[\\"Degree\\",0.0174532925199433]],PROJECTION[\\"Transverse_Mercator\\"],PARAMETER[\\"False_Easting\\",500000.0],PARAMETER[\\"False_Northing\\",0.0],PARAMETER[\\"Central_Meridian\\",-93.0],PARAMETER[\\"Scale_Factor\\",0.9996],PARAMETER[\\"Latitude_Of_Origin\\",0.0],UNIT[\\"Meter\\",1.0],AUTHORITY[\\"EPSG\\",32615]]"}',
        title="CRS Persistable Reference",
    )
    coordinateReferenceSystemID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-CoordinateReferenceSystem:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="SRN to CRS reference.",
        example="namespace:reference-data--CoordinateReferenceSystem:Projected:EPSG::32615:",
    )
    propertyNames: Optional[List[str]] = Field(
        None,
        description='The list of property names, to which this meta data item provides CRS context to. A full path like "StructureA.PropertyB" is required to define a unique context; "data" is omitted since frame-of reference normalization only applies to the data block.',
        example=["KickOffPosition.X", "KickOffPosition.Y"],
        title="CRS Property Names",
    )


class Meta2(RafsBaseModel):
    kind: str = Field(
        "DateTime",
        const=True,
        description="The kind of reference, constant 'DateTime', for FrameOfReferenceDateTime.",
        title="DateTime Reference Kind",
    )
    name: Optional[str] = Field(
        None,
        description="The name of the DateTime format and reference.",
        example="UTC",
        title="DateTime Name",
    )
    persistableReference: str = Field(
        ...,
        description="The self-contained, persistable reference string uniquely identifying DateTime reference.",
        example='{"format":"yyyy-MM-ddTHH:mm:ssZ","timeZone":"UTC","type":"DTM"}',
        title="DateTime Persistable Reference",
    )
    propertyNames: Optional[List[str]] = Field(
        None,
        description='The list of property names, to which this meta data item provides DateTime context to. A full path like "StructureA.PropertyB" is required to define a unique context; "data" is omitted since frame-of reference normalization only applies to the data block.',
        example=["Acquisition.StartTime", "Acquisition.EndTime"],
        title="DateTime Property Names",
    )


class Meta3(RafsBaseModel):
    kind: str = Field(
        "AzimuthReference",
        const=True,
        description="The kind of reference, constant 'AzimuthReference', for FrameOfReferenceAzimuthReference.",
        title="AzimuthReference Reference Kind",
    )
    name: Optional[str] = Field(
        None,
        description="The name of the CRS or the symbol/name of the unit.",
        example="TrueNorth",
        title="AzimuthReference Name",
    )
    persistableReference: str = Field(
        ...,
        description="The self-contained, persistable reference string uniquely identifying AzimuthReference.",
        example='{"code":"TrueNorth","type":"AZR"}',
        title="AzimuthReference Persistable Reference",
    )
    propertyNames: Optional[List[str]] = Field(
        None,
        description='The list of property names, to which this meta data item provides AzimuthReference context to. A full path like "StructureA.PropertyB" is required to define a unique context; "data" is omitted since frame-of reference normalization only applies to the data block.',
        example=["Bearing"],
        title="AzimuthReference Property Names",
    )


class Remarks(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    RemarkSequenceNumber: Optional[int] = Field(
        None,
        description="A unique identifier for each remark record. This identifier is used to uniquely identify a member in an array of remarks.",
        example=1,
        title="Remark Sequence Number",
    )
    Remark: Optional[str] = Field(
        None, description="A descriptive comment for this remark.", title="Remark"
    )
    RemarkSource: Optional[str] = Field(
        None,
        description="The person, vendor, interpreter or other provider of information.",
        title="Remark Source",
    )
    RemarkDate: Optional[date] = Field(
        None, description="The date the remark was issued.", title="Remark Date"
    )


class Porosity(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(None, title="Value")
    PorosityMeasurementTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-PorosityMeasurementType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of porosity being measured, e.g. BrineSaturation, HeliumInjection, Other.",
        title="Porosity Measurement Type ID",
    )


class Permeability(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    PermeabilityTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-PermeabilityMeasurementType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of permeability measurement being captured.",
        title="Permeability Type ID",
    )
    Value: Optional[float] = Field(
        None, description="The permeability value.", title="Value"
    )


class InterpretationItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    PorePressure: Optional[float] = Field(
        None,
        description="The interpreted pore pressure values used in calculating other parameters during the test.",
        title="Pore Pressure",
    )
    field_1DBulkCompressibility: Optional[float] = Field(
        None,
        alias="1DBulkCompressibility",
        description="The one-dimensional bulk compressibility interpretation, which measures the rock's volume change response to a change in pressure under uniaxial stress conditions.",
        title="1D Bulk Compressibility",
    )
    field_1DPoreCompressibility: Optional[float] = Field(
        None,
        alias="1DPoreCompressibility",
        description="The one-dimensional pore compressibility, indicating the change in pore volume as a function of pore pressure under uniaxial stress.",
        title="1D Pore Compressibility",
    )
    Permeability: Optional[Permeability] = Field(
        None,
        description="Quantifies the ability for fluids or gas to flow through a sample.",
        title="Permeability",
    )
    Porosity: Optional[Porosity] = Field(
        None,
        description="The amount of pore space relative to the volume of a sample.",
        title="Porosity",
    )
    YoungsModulus: Optional[float] = Field(
        None,
        description="Young's Modulus measures the stiffness of a material under uniaxial tensile or compressive stress.",
        title="Young Modulus",
    )
    BiotsCoefficient: Optional[float] = Field(
        None,
        description="A coefficient that quantifies the relationship between pore pressure and the total stress in the rock, influencing how the rock compresses under stress.",
        title="Biots Coefficient",
    )
    PoissonsRatio: Optional[float] = Field(
        None,
        description="Poisson's Ratio describes the ratio of lateral strain to axial strain in the material during deformation.",
        title="Poissons Ratio",
    )
    UniaxialCycleType: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-UniaxialCycleType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of uniaxial cycle applied during the test, such as loading or unloading, to characterize different behaviors of the rock.",
        title="Uniaxial Cycle Type",
    )


class Endpoints(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    MaxSimulatedDepletion: Optional[float] = Field(
        None,
        description="The maximum simulated depletion level during the test, representing the maximum reduction in pore pressure.",
        title="Maximum Simulated Depletion",
    )
    PorosityAtMaxDepletion: Optional[float] = Field(
        None,
        description="The rock’s porosity measured at the point of maximum depletion.",
        title="PorosityAtMaxDepletion",
    )
    BulkCompressibilityAtMaxDepletion: Optional[float] = Field(
        None,
        description="The bulk compressibility value recorded at maximum depletion.",
        title="Bulk Compressibility At Maximum Depletion",
    )
    DepletionAtPoreCollapse: Optional[float] = Field(
        None,
        description="The level of depletion at which pore collapse occurs, representing a critical point where the rock structure fails.",
        title="Depletion At Pore Collapse",
    )
    IRSCEEstimatedPorosity: Optional[float] = Field(
        None,
        description="Estimated porosity at initial reservoir stress conditions (IRSC)",
        title="IRSC EEstimated Porosity",
    )
    BackToIRSCBiotsCoefficient: Optional[float] = Field(
        None,
        description="The Biot’s coefficient value after cycling back to the initial rock state condition (IRSC).",
        title="Back To IRSC Biots Coefficient",
    )
    PermeabilityAtMaxDepletion: Optional[float] = Field(
        None,
        description="The permeability of the rock measured at the point of maximum depletion.",
        title="Permeability At Max Depletion",
    )
    IRSCPermeability: Optional[float] = Field(
        None,
        description="Permeability at initial reservoir stress conditions (IRSC).",
        title="IRSC Permeability",
    )
    IRSCPoreCompressibility: Optional[float] = Field(
        None,
        description="Pore compressibility at initial reservoir stress conditions (IRSC).",
        title="IRSC Pore Compressibility",
    )
    IRSCBulkCompressibility: Optional[float] = Field(
        None,
        description="Bulk compressibility at initial reservoir stress conditions (IRSC).",
        title="IRSC Bulk Compressibility",
    )
    IRSCBiotsCoefficient: Optional[float] = Field(
        None,
        description="Biot's coefficient at initial reservoir stress conditions (IRSC).",
        title="IRSC Biots Coefficient",
    )
    IRSCYoungsModulus: Optional[float] = Field(
        None,
        description="Young's Modulus at initial reservoir stress conditions (IRSC).",
        title="IRSC Young Modulus",
    )
    IRSCPoissonsRatio: Optional[float] = Field(
        None,
        description="Poisson's Ratio at initial reservoir stress conditions (IRSC).",
        title="IRSC Poissons Ratio",
    )
    BackToIRSCEstimatedPorosity: Optional[float] = Field(
        None,
        description="Estimated porosity when test environment is returned to initial reservoir stress conditions (IRSC).",
        title="Back To IRSC Estimated Porosity",
    )
    BackToIRSCPermeability: Optional[float] = Field(
        None,
        description="Permeability when test environment is returned to initial reservoir stress conditions (IRSC).",
        title="Back To IRSC Permeability",
    )
    BackToIRSCPoreCompressibility: Optional[float] = Field(
        None,
        description="Pore compressibility when test environment is returned to initial reservoir stress conditions (IRSC).",
        title="Back To IRSC Pore Compressibility",
    )
    BackToIRSCBulkCompressibility: Optional[float] = Field(
        None,
        description="Bulk compressibility when test environment is returned to initial reservoir stress conditions (IRSC).",
        title="Back To IRSC Bulk Compressibility",
    )
    BackToIRSCYoungsModulus: Optional[float] = Field(
        None,
        description="Young's Modulus when test environment is returned to initial reservoir stress conditions (IRSC).",
        title="Back To IRSC Young Modulus",
    )
    BackToIRSCPoissonsRatio: Optional[float] = Field(
        None,
        description="Poisson's Ratio when test environment is returned to initial reservoir stress conditions (IRSC).",
        title="Back To IRSC Poissons Ratio",
    )


class UniaxialCycleType(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(None, description="The value", title="Value")
    UniaxialCycleTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-UniaxialCycleType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of loading or cycling applied during the uniaxial test (e.g., loading, unloading).",
        title="Uniaxial Cycle Type ID",
    )


class UniaxialTestControl(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None, description="The value of Uniaxial Test Control.", title="Value"
    )
    UniaxialTestControlTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-UniaxialTestControlType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Defines the specific control mechanism used for the uniaxial test.",
        title="Uniaxial Test Control Type ID",
    )


class TestStep(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    UniaxialCycleType: Optional[UniaxialCycleType] = Field(
        None,
        description="Specifies the type of uniaxial cycle applied during different steps of the test.",
        title="Uniaxial Cycle Type",
    )
    UniaxialTestControl: Optional[UniaxialTestControl] = Field(
        None,
        description="This section stores control parameters during the uniaxial test, such as time, pressure, stress, and strain.",
        title="Uniaxial Test Control",
    )
    Time: Optional[float] = Field(
        None,
        description="The time progression during the test, typically recorded at specific intervals to monitor changes over time.",
        title="Time",
    )
    ConfiningPressure: Optional[float] = Field(
        None,
        description="The pressure applied laterally to the rock sample during the test, simulating in-situ conditions.",
        title="Confining Pressure",
    )
    PorePressure: Optional[float] = Field(
        None,
        description="The pore pressure controlled or monitored throughout the test to observe how the rock behaves under different internal fluid pressures.",
        title="Pore Pressure",
    )
    AxialStress: Optional[float] = Field(
        None,
        description="Axial stress is the internal force per unit area within a material that results from an axial load or force applied along its length.",
        title="Axial Stress",
    )
    AxialStrain: Optional[float] = Field(
        None,
        description="Axial strain is a measure of how much a material deforms along its length when subjected to an axial load or force.",
        title="Axial Strain",
    )
    RadialStrain: Optional[float] = Field(
        None,
        description="This is the strain measured in the direction perpendicular to the axis of the cylindrical sample.",
        title="Radial Strain",
    )
    FlowRate: Optional[float] = Field(
        None,
        description="The flow rate of fluid through the sample during the test, used to evaluate permeability and fluid movement.",
        title="Flow Rate",
    )
    DeltaP: Optional[float] = Field(
        None,
        description="The pressure difference across the sample during the test, often measured between two points to assess flow or stress responses.",
        title="Delta P",
    )


class UniaxialModel100(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    SamplesAnalysisID: constr(
        regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="OSDU Identifier for this SamplesAnalysis .",
        title="Samples Analysis ID",
    )
    SampleID: constr(
        regex=r"^[\w\-\.]+:master-data\-\-Sample:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="OSDU Identifier for the Sample associated with this analysis.",
        title="Sample ID",
    )
    Meta: List[Union[Meta, Meta1, Meta2, Meta3]] = Field(
        ...,
        description="A meta data item, which allows the association of named properties or property values to a Unit/Measurement/CRS/Azimuth/Time context.",
        example="",
        title="Meta",
    )
    LabSampleIdentifier: Optional[str] = Field(
        None,
        description="A unique identifier assigned to the rock sample in the laboratory. This identifier helps track the sample through different stages of testing and analysis, ensuring consistent documentation and traceability.",
        title="Lab Sample Identifier",
    )
    Remarks: Optional[Remarks] = Field(
        None,
        description="A field for additional comments or observations made during the test. This could include notes on sample conditions, anomalies, or any deviations from the standard testing procedure that may affect the interpretation of results.",
        title="Remarks",
    )
    Lithology: Optional[str] = Field(
        None,
        description="The description of the rock's physical characteristics, including mineral composition, grain size, texture, and other geological features. Lithology is crucial for interpreting the rock’s behavior under stress and understanding its broader geological context.",
        title="Lithology",
    )
    Porosity: Optional[Porosity] = Field(
        None,
        description="The amount of pore space relative to the volume of a sample",
        title="Porosity",
    )
    BulkDensityAsReceived: Optional[float] = Field(
        None,
        description="This is the bulk density of the sample as it was received by the laboratory performing the test.  Bulk density is a measure of the mass of a material per unit volume, including both the solid particles and the void spaces (air gaps or pores) within the material.",
        title="Bulk Density As Received",
    )
    GrainCompressibility: Optional[float] = Field(
        None,
        description="The compressibility of grains within the sample.  Compressibility is a measure of how much a substance can be compressed under pressure",
        title="Grain Compressibility",
    )
    FluidSaturantID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-FluidSaturantType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of fluid used to saturate the rock sample during testing. This could include water, oil, gas, or other fluids relevant to the rock's environment, affecting the rock’s pore pressure and permeability.",
        title="Fluid Saturant ID",
    )
    SaturantViscosity: Optional[float] = Field(
        None,
        description="A measure of the saturant fluid's internal resistance to flow",
        title="Saturant Viscosity",
    )
    IRSCPorePressure: Optional[float] = Field(
        None,
        description="The pore pressure measured during the initial rock state characterization (IRSC), which represents the fluid pressure within the pore spaces of the rock.",
        title="IRSC Pore Pressure",
    )
    IRSCMeanEffectiveStress: Optional[float] = Field(
        None,
        description="The mean effective stress at the initial rock state characterization, calculated by subtracting pore pressure from the applied stress on the rock.",
        title="IRSC Mean Effective Stress",
    )
    IRSCDifferentialStress: Optional[float] = Field(
        None,
        description="The differential stress at the initial rock state characterization, defined as the difference between the maximum and minimum principal stresses acting on the rock.",
        title="IRSC Differential Stress",
    )
    IRSCLabEffectiveMeanStress: Optional[float] = Field(
        None,
        description="The effective mean stress measured in the laboratory under controlled conditions during the IRSC phase, representing the average stress considering pore pressure effects.",
        title="IRSCLabEffectiveMeanStress",
    )
    IRSCLabDifferentialStress: Optional[float] = Field(
        None,
        description="The differential stress measured during the IRSC in the laboratory, quantifying the stress difference between the axial and confining stress applied in the uniaxial test.",
        title="IRSC Lab Differential Stress",
    )
    MassAsReceived: Optional[float] = Field(
        None,
        description="The mass of the rock sample as received before any testing or saturation, typically used as a baseline for further calculations.",
        title="Mass As Received",
    )
    SaturatedMass: Optional[float] = Field(
        None,
        description="The mass of the rock sample after being fully saturated with fluid, commonly used in calculations related to porosity and permeability.",
        title="Saturated Mass",
    )
    Interpretation: Optional[List[InterpretationItem]] = Field(
        None,
        description="A section of the model that stores derived interpretations and results from the uniaxial test, including key coefficients and cycle types.",
        title="Interpretation",
    )
    Endpoints: Optional[Endpoints] = Field(
        None,
        description="Describe the critical points at which failure occurs in the rock sample, characterized by maximum stress it withstands before fracturing, which provides essential data on its ultimate compressive strength and failure characteristics.",
        title="Endpoints",
    )
    TestSteps: Optional[List[TestStep]] = Field(
        None,
        description="Test procedures involved preparing a cylindrical rock sample, applying a steadily increasing unidirectional compressive load until failure, recording stress and strain data, and analyzing these measurements to determine the rock's mechanical properties such as Young's modulus, Poisson's ratio, and compressive strength.",
        title="Test Steps",
    )
