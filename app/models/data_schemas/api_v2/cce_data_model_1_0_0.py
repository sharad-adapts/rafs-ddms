#  Copyright 2024 ExxonMobil Technology and Engineering Company
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# generated by datamodel-codegen:
#   filename:  CceDataSchema.1.0.0.json
#   timestamp: 2024-12-11T20:50:14+00:00

from __future__ import annotations

from app.models.config import RafsBaseModel

from typing import List, Optional

from pydantic import Extra, Field, constr


class VaporCompositionItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    ComponentNameID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleCompositionComponent:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Name of the component in the liquid.",
        title="Component Name ID",
    )
    RelativeMoleWeight: Optional[float] = Field(
        None,
        description="Molar mass relative to other components.",
        title="Relative Mole Weight",
    )
    MolecularWeight: Optional[float] = Field(
        None,
        description="The molecular weight of the component.",
        title="Molecular Weight",
    )
    MolePercent: Optional[float] = Field(
        None,
        description="The molar percentage of the component, if available.",
        title="Mole Percent",
    )
    MassPercent: Optional[float] = Field(
        None,
        description="The mass percentage of the component, if available.",
        title="Mass Percent",
    )
    VolumePercent: Optional[float] = Field(
        None,
        description="The volume percentage of the component, if available.",
        title="Volume Percent",
    )
    SpecificGravity: Optional[float] = Field(
        None,
        description="The specific gravity of the component.",
        title="Specific Gravity",
    )


class LiquidCompositionItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    ComponentNameID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleCompositionComponent:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Name of the component in the liquid.",
        title="Component Name ID",
    )
    RelativeMoleWeight: Optional[float] = Field(
        None,
        description="Molar mass relative to other components.",
        title="Relative Mole Weight",
    )
    MolecularWeight: Optional[float] = Field(
        None,
        description="The molecular weight of the component.",
        title="Molecular Weight",
    )
    MolePercent: Optional[float] = Field(
        None,
        description="The molar percentage of the component, if available.",
        title="Mole Percent",
    )
    MassPercent: Optional[float] = Field(
        None,
        description="The mass percentage of the component, if available.",
        title="Mass Percent",
    )
    VolumePercent: Optional[float] = Field(
        None,
        description="The volume percentage of the component, if available.",
        title="Volume Percent",
    )
    SpecificGravity: Optional[float] = Field(
        None,
        description="The specific gravity of the component.",
        title="Specific Gravity",
    )


class TestStep(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    StepNumber: Optional[float] = Field(
        None,
        description="Internal step number which identifies the sequence of step in CCE measurements.",
        title="Step Number",
    )
    StepPressure: Optional[float] = Field(
        None, description="The pressure applied during the step.", title="Step Pressure"
    )
    LiquidVolumeRelativeToSaturationPressureVolume: Optional[float] = Field(
        None,
        description="Volume of liquid relative to the volume at saturation pressure.",
        title="Liquid Volume Relative To Saturation Pressure Volume",
    )
    OilDensity: Optional[float] = Field(
        None,
        description="The density of the oil for this test step.",
        title="Oil Density",
    )
    OilCompressibility: Optional[float] = Field(
        None,
        description="The compressibility of the oil for this test step.  Compressibility is a measure of how much a substance can be compressed under pressure.",
        title="Oil Compressibility",
    )
    OilViscosity: Optional[float] = Field(
        None,
        description="The dynamic viscosity of the oil for this test step.",
        title="Oil Viscosity",
    )
    TotalVolume: Optional[float] = Field(
        None, description="The total volume for this test step.", title="TotalVolume"
    )
    RelativeVolumeRatio: Optional[float] = Field(
        None,
        description="The measured relative volume ratio = measured volume/volume at Psat.",
        title="Relative Volume Ratio",
    )
    GasDensity: Optional[float] = Field(
        None,
        description="The density of the gas for this test step.",
        title="Gas Density",
    )
    GasZFactor: Optional[float] = Field(
        None,
        description="The Z factor of the gas for this test step estimated for quality assurance of the laboratory data.",
        title="Gas Z Factor",
    )
    GasCompressibility: Optional[float] = Field(
        None,
        description="The compressibility of the gas for this test step.",
        title="Gas Compressibility",
    )
    GasViscosity: Optional[float] = Field(
        None,
        description="The viscosity of the gas phase at this test step.",
        title="Gas Viscosity",
    )
    YFunction: Optional[float] = Field(
        None,
        description="The Y-Function acts as a consistency check for CCE experiments of black oil.",
        title="Y Function",
    )
    SampleTestConditionID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleTestCondition:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifies the testing condition of the sample fluid, e.g. InitialReservoir, CurrentReservoir, StockTank, InitialSaturation.",
        title="Sample Test Condition ID",
    )
    PhasesPresent: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-FluidPhasesPresent:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifies the phases of fluid present in the sample, e.g. SeparatorLiquid, FlashedOil, OilWithMud, Gas, ReservoirFluid (references FluidPhasesPresent).",
        title="Phases Present",
    )
    IsothermalFluidCompressibilityAverage: Optional[float] = Field(
        None,
        description="The compressibility of the fluid based on two discrete pressure points.",
        title="Isothermal Fluid Compressibility Average",
    )
    IsothermalFluidCompressibilityInstantaneous: Optional[float] = Field(
        None,
        description="Instantaneous Compressibility is the fluid compressibility at one pressure point calculated using the continuous nature of pressure-volume relation.",
        title="Isothermal Fluid Compressibility Instantaneous",
    )
    VaporComposition: Optional[List[VaporCompositionItem]] = Field(
        None,
        description="Array object capturing the composition of the vapor component of the sample at this test step.",
        title="Vapor Composition",
    )
    LiquidComposition: Optional[List[LiquidCompositionItem]] = Field(
        None,
        description="Array object capturing the composition of the liquid component of the sample at this test step.",
        title="Liquid Composition",
    )


class CceModel100(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    SamplesAnalysisID: constr(
        regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="The OSDU Identifier for this SamplesAnalysis.",
        title="Samples Analysis ID",
    )
    SampleID: constr(
        regex=r"^[\w\-\.]+:master-data\-\-Sample:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="The OSDU Identifier for the Sample associated with this analysis.",
        title="Sample ID",
    )
    TestNumber: Optional[str] = Field(
        None,
        description="A number for this test for purposes of e.g., tracking lab sequence.",
        title="Test Number",
    )
    TestTemperature: Optional[float] = Field(
        None, description="The temperature of this test.", title="Test Temperature"
    )
    SaturationPressure: Optional[float] = Field(
        None,
        description="The saturation (or bubble point) pressure measured in this test.",
        title="Saturation Pressure",
    )
    ReservoirPressure: Optional[float] = Field(
        None,
        description="The pressure conditions of the reservoir where the sample was collected.",
        title="Reservoir Pressure",
    )
    TestSteps: Optional[List[TestStep]] = Field(
        None,
        description="An array object capturing the CCE test steps.",
        title="Test Steps",
    )
