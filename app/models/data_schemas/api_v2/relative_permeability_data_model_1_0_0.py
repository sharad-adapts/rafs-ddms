#  Copyright 2024 ExxonMobil Technology and Engineering Company
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# generated by datamodel-codegen:
#   filename:  RelativePermeabilityDataSchema.1.0.0.json
#   timestamp: 2024-12-11T15:19:39+00:00

from __future__ import annotations

from app.models.config import RafsBaseModel

from typing import List, Optional

from pydantic import Extra, Field, constr


class EffectivePermeability(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    PermeabilityMeasurementMethodID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-PermeabilityMeasurementMethod:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of permeability being measured, e.g. Gas, PulseDecay, Klinkenberg.",
        title="Permeability Measurement Method ID",
    )
    Value: Optional[float] = Field(
        None, description="The effective permeability value.", title="Value"
    )
    FluidTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleInjectionFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The fluid type used in determining effective permeability.",
        title="Fluid Type ID",
    )


class RelativePermeability(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None, description="The relative permeability value.", title="Value"
    )
    FluidSystemAnalysisTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-FluidSystemAnalysisType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The fluid system used in determining relative permeability.",
        title="Fluid System Analysis Type ID",
    )


class Saturation(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None, description="The saturation value.", title="Value"
    )
    FluidTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleInjectionFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The fluid type used for this saturation.",
        title="Fluid Type ID",
    )
    SaturationTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SaturationType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifies the area of focus for this saturation measurement, e.g. 'End Face' or 'Average'",
        title="Saturation Type ID",
    )


class InitialConditions(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    EffectivePermeability: Optional[EffectivePermeability] = Field(
        None,
        description="A measure of how easily fluids can flow through a porous sample, taking into consideration the saturation, presence of other fluids, and the interactions between those fluids into account.",
        title="Effective Permeability",
    )
    RelativePermeability: Optional[RelativePermeability] = Field(
        None,
        description="Relative permeability is a measure of how easily a particular fluid can flow through a porous medium when other fluids are also present.",
        title="Relative Permeability",
    )
    Saturation: Optional[Saturation] = Field(
        None,
        description="At the start of the experiment, the extent to which pore space within the sample is filled with fluids.",
        title="Saturation",
    )
    LastFlowRate: Optional[float] = Field(
        None,
        description="The last recorded flow rate prior to the experiment.",
        title="Last Flow Rate",
    )
    TestTemperature: Optional[float] = Field(
        None,
        description="The recorded temperature within the test environment.",
        title="Test Temperature",
    )
    NetConfiningStress: Optional[float] = Field(
        None,
        description="The pressure exerted on a sample from its environment, minus the pore pressure within the sample.",
        title="Net Confining Stress",
    )
    OverburdenPressure: Optional[float] = Field(
        None,
        description="The pressure exerted by the weight of the overlying rock and soil layers on the rock sample being tested.",
        title="Overburden Pressure",
    )
    PorePressure: Optional[float] = Field(
        None,
        description="The pressure exerted by fluids (such as water or oil) within the pores and fractures of a rock sample.",
        title="Pore Pressure",
    )
    FlowDirection: Optional[str] = Field(
        None,
        description='Direction of flow for the experiment, e.g. "Vertical from bottom".',
        title="Flow Direction",
    )


class TerminalConditions(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    EffectivePermeability: Optional[EffectivePermeability] = Field(
        None,
        description="A measure of how easily fluids can flow through a porous sample, taking into consideration the saturation, presence of other fluids, and the interactions between those fluids into account.",
        title="Effective Permeability",
    )
    RelativePermeability: Optional[RelativePermeability] = Field(
        None,
        description="Relative permeability is a measure of how easily a particular fluid can flow through a porous medium when other fluids are also present.",
        title="Relative Permeability",
    )
    Saturation: Optional[Saturation] = Field(
        None,
        description="At the end of the experiment, the extent to which pore space within the sample is filled with fluids.",
        title="Saturation",
    )


class ReferencePermeabilityItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None,
        description="The permeability value acting as a reference for this experiment.",
        title="Value",
    )
    PermeabilityMeasurementMethodID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-PermeabilityMeasurementMethod:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of permeability being measured, e.g. Gas, PulseDecay, Klinkenberg.",
        title="Permeability Measurement Method ID",
    )


class InjectionRateItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None, description="The flow rate value.", title="Value"
    )
    FluidTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleInjectionFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None, description="Fluid Type injected into the sample.", title="Fluid Type ID"
    )


class CumulativeProduction(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None, description="The cumulative production value at this step.", title="Value"
    )
    FluidTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-DisplacedFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Fluid Type displaced from the sample due to injection",
        title="Fluid Type ID",
    )


class EffectivePermeabilityItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    PermeabilityMeasurementMethodID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-PermeabilityMeasurementMethod:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of permeability being measured, e.g. Gas, PulseDecay, Klinkenberg.",
        title="Permeability Measurement Method ID",
    )
    Value: Optional[float] = Field(
        None, description="The effective permeability value.", title="Value"
    )
    FluidTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleInjectionFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The fluid type used in determining effective permeability.",
        title="Fluid Type ID",
    )


class RelativePermeabilityItem(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Value: Optional[float] = Field(
        None, description="The relative permeability value.", title="Value"
    )
    FluidSystemAnalysisTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-FluidSystemAnalysisType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The fluid system used in determining relative permeability.",
        title="Fluid System Analysis Type ID",
    )


class InSituSaturationProfile(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Time: Optional[float] = Field(
        None,
        description="The time at which the in-situ saturation was measured.",
        title="Time",
    )
    Position: Optional[float] = Field(
        None, description="The position along the sample.", title="Position"
    )
    InitialSaturation: Optional[float] = Field(
        None, description="The initial saturation value.", title="Initial Saturation"
    )
    EquilibriumSaturation: Optional[float] = Field(
        None,
        description="The saturation value as measured at this timestamp.",
        title="Equilibrium Saturation",
    )


class DifferentialPressureProfile(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Time: Optional[float] = Field(
        None, description="The time at which the pressure was measured.", title="Time"
    )
    DifferentialPressure: Optional[float] = Field(
        None,
        description="The differential pressure value.",
        title="Differential Pressure",
    )


class ProductionProfile(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    Time: Optional[float] = Field(
        None, description="The time at which the pressure was measured.", title="Time"
    )
    ProductionRate: Optional[float] = Field(
        None, description="The rate of fluid production", title="Production Rate"
    )
    FluidTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-DisplacedFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(None, description="The type of fluid.", title="Fluid Type ID")


class PermeabilityTestStep(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    StartTime: Optional[float] = Field(
        None,
        description="The start time of this test step, typically in minutes.",
        title="Start Time",
    )
    DifferentialPressure: Optional[float] = Field(
        None,
        description="The pressure difference or pressure gradient through the sample at equilibrium, also known as Delta P.",
        title="Differential Pressure",
    )
    InjectionRate: Optional[List[InjectionRateItem]] = Field(
        None,
        description="The rate at which the fluid is injected into the sample.",
        title="Injection Rate",
    )
    CumulativeProduction: Optional[CumulativeProduction] = Field(
        None,
        description="The cumulative amount of fluid displaced from the sample",
        title="Cumulative Production",
    )
    EffectivePermeability: Optional[List[EffectivePermeabilityItem]] = Field(
        None,
        description="A measure of how easily fluids can flow through a porous sample, taking into consideration the saturation, presence of other fluids, and the interactions between those fluids into account.",
        title="Effective Permeability",
    )
    RelativePermeability: Optional[List[RelativePermeabilityItem]] = Field(
        None,
        description="Relative permeability is a measure of how easily a particular fluid can flow through a porous medium when other fluids are also present.",
        title="Relative Permeability",
    )
    Saturation: Optional[Saturation] = Field(
        None,
        description="The extent to which pore space within the sample is filled with fluids.",
        title="Saturation",
    )
    InSituSaturationProfiles: Optional[List[InSituSaturationProfile]] = Field(
        None,
        description="Captures water saturation values along the length of the core sample at time intervals.",
        title="In Situ Saturation Profiles",
    )
    DifferentialPressureProfiles: Optional[List[DifferentialPressureProfile]] = Field(
        None,
        description="Captures the differential pressure measured over time during the experiment.",
        title="Differential Pressure Profiles",
    )
    ProductionProfiles: Optional[List[ProductionProfile]] = Field(
        None,
        description="Stores data on fluid production over time.",
        title="Production Profiles",
    )
    FractionalFlowRate: Optional[float] = Field(
        None,
        description="The fractional value of the injected fluid flow rate.",
        title="Fractional Flow Rate",
    )


class RelativePermeabilityModel100(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    SamplesAnalysisID: constr(
        regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="OSDU Identifier for this SamplesAnalysis.",
        title="Samples Analysis ID",
    )
    SampleID: constr(
        regex=r"^[\w\-\.]+:master-data\-\-Sample:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ..., description="OSDU Identifier for this SamplesAnalysis.", title="Sample ID"
    )
    DesaturationMethodID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-DesaturationMethod:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="OSDU Identifier for this SamplesAnalysis.",
        title="Desaturation Method ID",
    )
    InitialConditions: Optional[InitialConditions] = Field(
        None,
        description="The initial conditions of permeability, saturation, and flow rate within the sample.",
        title="Initial Conditions",
    )
    TerminalConditions: Optional[TerminalConditions] = Field(
        None,
        description="The permeability and saturation conditions of the sample at the end of the experiment.",
        title="Terminal Conditions",
    )
    RelativePermeabilityCrossover: Optional[float] = Field(
        None,
        description="The relative permeability value of a crossover point in a relative permeability x saturation analysis graph.",
        title="Relative Permeability Crossover",
    )
    EndFaceSaturationCrossover: Optional[float] = Field(
        None,
        description="The saturation value of a crossover point in a relative permeability x saturation analysis graph.",
        title="End Face Saturation Crossover",
    )
    ReferencePermeability: Optional[List[ReferencePermeabilityItem]] = Field(
        None,
        description="e.g. gas permeability kg, gas permeability at minimum liquid saturation kg@Slmin, oil permeability ko, water permeability kw, etc",
        title="Reference Permeability",
    )
    SaturationProcessMethodID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SaturationProcessMethod:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The method used to saturate the rock sample with a particular fluid in the experiment.",
        title="Saturation Process Method ID",
    )
    InterfacialTension: Optional[float] = Field(
        None,
        description="The measured tension at the interface between the wetting and non-wetting phases during a test step.",
        title="Interfacial Tension",
    )
    BrineSalinity: Optional[float] = Field(
        None,
        description="The salinity level of the brine used in the test, affecting the rock's electrical resistivity properties.",
        title="Brine Salinity",
    )
    OilViscosity: Optional[float] = Field(
        None,
        description="A measure of a fluid’s internal resistance to flow.",
        title="Oil Viscosity",
    )
    GasViscosity: Optional[float] = Field(
        None,
        description="A measure of a fluid’s internal resistance to flow.",
        title="Gas Viscosity",
    )
    WaterViscosity: Optional[float] = Field(
        None,
        description="A measure of a fluid’s internal resistance to flow.",
        title="Water Viscosity",
    )
    OilDensity: Optional[float] = Field(
        None,
        description="The mass per volume of oil in the sample.",
        title="Oil Density",
    )
    GasDensity: Optional[float] = Field(
        None,
        description="The mass per volume of gas in the sample.",
        title="Gas Density",
    )
    WaterDensity: Optional[float] = Field(
        None,
        description="The mass per volume of water in the sample.",
        title="Water Density",
    )
    FluidSystemAnalysisTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-FluidSystemAnalysisType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="The type of fluid system in this analysis, e.g. gasbrine or gasoil.",
        title="Fluid System Analysis Type ID",
    )
    PermeabilityTestSteps: Optional[List[PermeabilityTestStep]] = Field(
        None, description="Permeability Test Steps", title="Permeability Test Steps"
    )
    OilTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-DisplacedFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifies the type of oil used in the experiment.",
        title="Oil Type ID",
    )
    GasTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleInjectionFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifies the type of gas used in the experiment.",
        title="Gas Type ID",
    )
    WaterTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleInjectionFluidType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifies the type of gas used in the experiment.",
        title="Water Type ID",
    )
    EndTime: Optional[float] = Field(
        None, description="Overall duration of the test.", title="End Time"
    )
