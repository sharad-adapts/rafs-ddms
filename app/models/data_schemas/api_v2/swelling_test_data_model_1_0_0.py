#  Copyright 2024 ExxonMobil Technology and Engineering Company
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

# generated by datamodel-codegen:
#   filename:  SwellingTestDataSchema.1.0.0.json
#   timestamp: 2024-12-13T20:33:27+00:00

from __future__ import annotations

from app.models.config import RafsBaseModel

from typing import List, Optional

from pydantic import Extra, Field, constr


class TestStep(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    StepNumber: Optional[str] = Field(
        None,
        description="Internal step number which identifies the sequence of step in swelling measurements",
        title="Step Number",
    )
    SaturationPressure: Optional[float] = Field(
        None,
        description="The saturation (or bubble point) pressure measured in this test step.",
        title="Saturation Pressure",
    )
    SaturationPressureTypeID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SaturationPressureType:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Pb (Bubble Point)/Pd (Dew Point)/2-Ph (Two Phase)\n\nConvert to reference list SaturationPressureType",
        title="Saturation Pressure Type ID",
    )
    SwellingFactor: Optional[float] = Field(
        None,
        description="Swelling Factor is a relative volume measurement used to quantify how the volume of a reservoir rock or fluid changes in response to the introduction of different fluids or under varying pressure and temperature conditions.",
        title="Swelling Factor",
    )
    DensityAtSaturationPressure: Optional[float] = Field(
        None,
        description="The density of the sample fluid at the saturation pressure of this test step.",
        title="Density At Saturation Pressure",
    )
    GasOilRatio: Optional[float] = Field(
        None,
        description="The ratio of the volumes of gas to oil in the sample.",
        title="Gas Oil Ratio",
    )
    CumulativeGasToOriginalFluidMolePercent: Optional[float] = Field(
        None,
        description="The cumulative molar percentage of gas to the original fluid.",
        title="Cumulative Gas To Original Fluid Mole Percent",
    )
    CumulativeGasOfTotalFluidMolePercent: Optional[float] = Field(
        None,
        description="The cumulative molar percentage of gas to the total fluid.",
        title="Cumulative Gas Of Total Fluid Mole Percent",
    )
    IsothermalCompressibilityAtSaturationPressure: Optional[float] = Field(
        None,
        description="The isothermal compressibility measured at the saturation pressure for this step.",
        title="Isothermal Compressibility At Saturation Pressure",
    )
    ViscosityAtSaturationPressure: Optional[float] = Field(
        None,
        description="The viscosity of the fluid at the saturation pressure of the test step.",
        title="Viscosity At Saturation Pressure",
    )
    TransportTestID: Optional[
        constr(
            regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifier for a specific transport test (if any) that contributed to this swelling test.",
        title="Transport Test ID",
    )
    ConstantCompositionExpansionID: Optional[
        constr(
            regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifier for a specific constant composition expansion test (if any) that contributed to this swelling test.",
        title="Constant Composition Expansion ID",
    )
    AtmosphericFlashAndCompositionalAnalysisID: Optional[
        constr(
            regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Identifier for a specific atmospheric flash or compositional analysis that contributed to this swelling test.",
        title="Atmospheric Flash And Compositional Analysis ID",
    )


class InjectedGa(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    ComponentNameID: Optional[
        constr(
            regex=r"^[\w\-\.]+:reference-data\-\-SampleCompositionComponent:[\w\-\.\:\%]+:[0-9]*$"
        )
    ] = Field(
        None,
        description="Name of the component in the liquid.",
        title="Component Name ID",
    )
    RelativeMoleWeight: Optional[float] = Field(
        None,
        description="Molar mass relative to other components.",
        title="Relative Mole Weight",
    )
    MolecularWeight: Optional[float] = Field(
        None,
        description="The molecular weight of the component.",
        title="Molecular Weight",
    )
    MolePercent: Optional[float] = Field(
        None,
        description="The molar percentage of the component, if available.",
        title="Mole Percent",
    )
    MassPercent: Optional[float] = Field(
        None,
        description="The mass percentage of the component, if available.",
        title="Mass Percent",
    )
    VolumePercent: Optional[float] = Field(
        None,
        description="The volume percentage of the component, if available.",
        title="Volume Percent",
    )
    SpecificGravity: Optional[float] = Field(
        None,
        description="The specific gravity of the component.",
        title="Specific Gravity",
    )


class SwellingTestModel100(RafsBaseModel):
    class Config:
        extra = Extra.forbid

    SamplesAnalysisID: constr(
        regex=r"^[\w\-\.]+:work-product-component\-\-SamplesAnalysis:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="The OSDU Identifier for this SamplesAnalysis.",
        title="Samples Analysis ID",
    )
    SampleID: constr(
        regex=r"^[\w\-\.]+:master-data\-\-Sample:[\w\-\.\:\%]+:[0-9]*$"
    ) = Field(
        ...,
        description="The OSDU Identifier for the Sample associated with this analysis.",
        title="Sample ID",
    )
    TestNumber: Optional[str] = Field(
        None,
        description="A number for this test for purposes of e.g., tracking lab sequence.",
        title="Test Number",
    )
    TestTemperature: Optional[float] = Field(
        None,
        description="The recorded temperature within the test environment.",
        title="Test Temperature",
    )
    TestSteps: Optional[List[TestStep]] = Field(
        None,
        description="The individual pressure steps of the swelling test.",
        title="Test Steps",
    )
    InjectedGas: Optional[List[InjectedGa]] = Field(
        None,
        description="An array object capturing the composition and other properties of the injected gas.",
        title="Injected Gas",
    )
